# åŸå‹æ¨¡å¼ (Prototype Pattern)

## ä»€ä¹ˆæ˜¯åŸå‹æ¨¡å¼ï¼Ÿ

åŸå‹æ¨¡å¼å°±åƒ"å¤å°æœº"ä¸€æ ·ï¼Œå¯ä»¥å¿«é€Ÿå¤åˆ¶ç°æœ‰å¯¹è±¡ï¼Œè€Œä¸éœ€è¦é‡æ–°åˆ›å»ºã€‚

æƒ³è±¡ä¸€ä¸‹ï¼š
- ä½ æœ‰ä¸€ä»½é‡è¦æ–‡ä»¶ï¼Œéœ€è¦ç»™10ä¸ªäººçœ‹
- ä¸å…¶é‡æ–°å†™10éï¼Œä¸å¦‚ç”¨å¤å°æœºå¤å°9ä»½
- åŸå‹æ¨¡å¼å°±æ˜¯ä»£ç ä¸­çš„"å¤å°æœº"

## ä¸ºä»€ä¹ˆè¦ç”¨åŸå‹æ¨¡å¼ï¼Ÿ

1. **åˆ›å»ºå¯¹è±¡æˆæœ¬é«˜**ï¼šæ¯”å¦‚ä»æ•°æ®åº“åŠ è½½æ•°æ®å¾ˆæ…¢
2. **å¯¹è±¡ç»“æ„å¤æ‚**ï¼šæœ‰å¾ˆå¤šåµŒå¥—çš„å±æ€§
3. **éœ€è¦å¤§é‡ç›¸ä¼¼å¯¹è±¡**ï¼šåªæ˜¯æŸäº›å±æ€§ä¸åŒ

## ç”Ÿæ´»ä¸­çš„ä¾‹å­

- ğŸ–¨ï¸ å¤å°æ–‡ä»¶ï¼šåŸä»¶ä¸å˜ï¼Œå¤å°å‡ºæ–°çš„
- ğŸª ç”¨æ¨¡å…·åšé¥¼å¹²ï¼šæ¨¡å…·æ˜¯åŸå‹ï¼Œåšå‡ºå¾ˆå¤šé¥¼å¹²
- ğŸ“‹ å¡«è¡¨æ ¼ï¼šæœ‰æ¨¡æ¿ï¼Œæ¯æ¬¡å¤åˆ¶åå¡«ä¸åŒå†…å®¹

## ä»£ç å®ç°

### åŸºç¡€ç‰ˆæœ¬
```go
// å¯å¤åˆ¶çš„æ¥å£
type Cloneable interface {
    Clone() Cloneable
}

// ç®€å†å¯¹è±¡
type Resume struct {
    Name string
    Age  int
}

// å®ç°å¤åˆ¶æ–¹æ³•
func (r *Resume) Clone() *Resume {
    return &Resume{
        Name: r.Name,
        Age:  r.Age,
    }
}
```

### å®é™…åº”ç”¨åœºæ™¯
```go
// æ¸¸æˆè§’è‰²åŸå‹
type Character struct {
    Name   string
    Level  int
    Skills []string
}

func (c *Character) Clone() *Character {
    // æ·±æ‹·è´æŠ€èƒ½åˆ—è¡¨
    skills := make([]string, len(c.Skills))
    copy(skills, c.Skills)
    
    return &Character{
        Name:   c.Name,
        Level:  c.Level,
        Skills: skills,
    }
}
```

## ä½¿ç”¨ç¤ºä¾‹

```go
func main() {
    // åˆ›å»ºåŸå‹è§’è‰²
    warrior := &Character{
        Name:   "æˆ˜å£«æ¨¡æ¿",
        Level:  1,
        Skills: []string{"æ”»å‡»", "é˜²å¾¡"},
    }
    
    // å¿«é€Ÿåˆ›å»ºæ–°è§’è‰²
    player1 := warrior.Clone()
    player1.Name = "å¼ ä¸‰"
    
    player2 := warrior.Clone()
    player2.Name = "æå››"
    player2.Level = 5
    
    fmt.Printf("ç©å®¶1: %+v\n", player1)
    fmt.Printf("ç©å®¶2: %+v\n", player2)
}
```

## æ³¨æ„äº‹é¡¹

### æµ…æ‹·è´ vs æ·±æ‹·è´

```go
// âŒ æµ…æ‹·è´ - å±é™©ï¼
func (c *Character) ShallowClone() *Character {
    return &Character{
        Name:   c.Name,
        Skills: c.Skills, // å…±äº«åŒä¸€ä¸ªåˆ‡ç‰‡ï¼
    }
}

// âœ… æ·±æ‹·è´ - å®‰å…¨
func (c *Character) DeepClone() *Character {
    skills := make([]string, len(c.Skills))
    copy(skills, c.Skills) // åˆ›å»ºæ–°çš„åˆ‡ç‰‡
    
    return &Character{
        Name:   c.Name,
        Skills: skills,
    }
}
```

## ä¼˜ç¼ºç‚¹

### ä¼˜ç‚¹
- âœ… åˆ›å»ºå¯¹è±¡é€Ÿåº¦å¿«
- âœ… é¿å…é‡å¤çš„åˆå§‹åŒ–ä»£ç 
- âœ… å¯ä»¥åŠ¨æ€é…ç½®å¯¹è±¡

### ç¼ºç‚¹
- âŒ éœ€è¦å®ç°å…‹éš†æ–¹æ³•
- âŒ æ·±æ‹·è´å¯èƒ½æ¯”è¾ƒå¤æ‚
- âŒ å¾ªç¯å¼•ç”¨æ—¶å®¹æ˜“å‡ºé”™

## é€‚ç”¨åœºæ™¯

1. **å¯¹è±¡åˆ›å»ºæˆæœ¬é«˜**ï¼šæ•°æ®åº“æŸ¥è¯¢ã€ç½‘ç»œè¯·æ±‚
2. **éœ€è¦å¤§é‡ç›¸ä¼¼å¯¹è±¡**ï¼šæ¸¸æˆä¸­çš„NPCã€UIç»„ä»¶
3. **å¯¹è±¡çŠ¶æ€å˜åŒ–é¢‘ç¹**ï¼šéœ€è¦ä¿å­˜å¤šä¸ªç‰ˆæœ¬

## ä¸å…¶ä»–æ¨¡å¼çš„åŒºåˆ«

| æ¨¡å¼ | ç”¨é€” | ç‰¹ç‚¹ |
|------|------|------|
| åŸå‹æ¨¡å¼ | å¤åˆ¶ç°æœ‰å¯¹è±¡ | åŸºäºå·²æœ‰å®ä¾‹ |
| å·¥å‚æ¨¡å¼ | åˆ›å»ºæ–°å¯¹è±¡ | åŸºäºç±»å‹å‚æ•° |
| å»ºé€ è€…æ¨¡å¼ | æ„å»ºå¤æ‚å¯¹è±¡ | åˆ†æ­¥éª¤æ„å»º |

åŸå‹æ¨¡å¼å°±æ˜¯ä»£ç ä¸–ç•Œçš„"å¤å°æœº"ï¼Œè®©å¯¹è±¡åˆ›å»ºå˜å¾—ç®€å•å¿«æ·ï¼